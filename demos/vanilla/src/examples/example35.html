<h3 class="title is-3">
  Example 35 - Tree Data with Lazy Loading
  <span class="mdi mdi-file-tree mdi-25px"></span>
  <span class="subtitle">(from a Hierarchical Dataset)</span>
  <div class="subtitle code-link">
    <span class="is-size-6">see</span>
    <a
      class="is-size-5"
      target="_blank"
      href="https://github.com/ghiscoding/slickgrid-universal/blob/master/demos/vanilla/src/examples/example35.ts"
    >
      <span class="mdi mdi-link-variant"></span> code
    </a>
  </div>
</h3>

<h6 class="italic content example-details">
  <ul>
    <li>
      Lazy Loading only works with Hierarchical Tree Data, also when creating a Lazy Tree Data grid, you would typically assign the
      <code>data</code> as the root collection but with empty children items.
    </li>
    <li>
      However please note that Parents do require the children arrays to be defined but can be left as empty arrays (e.g.
      <code>chapters: []</code> in our example). Parents without empty children arrays defined <b>will not</b> be detected as parents.
    </li>
    <li>
      Calling the "Expand All" command will <b>only</b> expand the nodes that were already lazily loaded (the other ones will remain as
      collapsed). Aggregators will also be lazily calculated and aggregate only the data that it currently has loaded.
    </li>
    <li>In the example below, clicking on the last <b>"Chapter X"</b> will demo an API call failure</li>
  </ul>
</h6>
<div class="columns">
  <div class="column">
    <button class="button is-small" data-test="clear-filters-btn" onclick.trigger="clearFilters()">
      <span class="mdi mdi-close"></span>
      <span>Clear Filters</span>
    </button>
    <button onclick.trigger="collapseAll()" class="button is-small" data-test="collapse-all-btn">
      <span class="mdi mdi-arrow-collapse"></span>
      <span>Collapse All</span>
    </button>
    <button
      onclick.trigger="expandAll()"
      class="button is-small"
      data-test="expand-all-btn"
      title="Expand All will only expand the nodes that were already lazily loaded (the others will remain collapsed)"
    >
      <span class="mdi mdi-arrow-expand"></span>
      <span>Expand All</span>
    </button>
    <span class="ml-2">
      <label for="server-delay">Simulated Server Delay (ms): </label>
      <input
        type="number"
        id="server-delay"
        class="is-narrow input is-small"
        data-test="server-delay"
        value.bind="serverApiDelay"
        step="100"
      />
    </span>
  </div>
  <div class="column is-4">
    <div class="field is-horizontal">
      <div class="field-label is-small">
        <label class="">Search Label</label>
      </div>
      <div class="field-body">
        <div class="field is-expanded">
          <div class="field has-addons">
            <p class="control is-expanded">
              <input type="text" class="input search is-small" data-test="search-string" onkeyup.trigger="searchLabel(event)" />
            </p>
            <p class="control pointer" onclick.trigger="clearSearch()" data-test="clear-search-string">
              <a class="button is-static is-small">
                <span class="mdi mdi-close-thick"></span>
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="grid35"></div>
