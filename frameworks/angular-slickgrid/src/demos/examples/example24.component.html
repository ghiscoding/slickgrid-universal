<div class="container-fluid">
  <h2>
    Example 24: Cell Menu & Context Menu Plugins
    <button class="ms-2 btn btn-outline-secondary btn-sm btn-icon" type="button" data-test="toggle-subtitle" (click)="toggleSubTitle()">
      <span class="mdi mdi-information-outline" title="Toggle example sub-title details"></span>
    </button>
    <button class="btn btn-outline-secondary btn-sm btn-icon" (click)="toggleDarkMode()" data-test="toggle-dark-mode">
      <span>Toggle Dark Mode</span>
    </button>
    <span class="float-end">
      <a
        style="font-size: 18px"
        target="_blank"
        href="https://github.com/ghiscoding/slickgrid-universal/blob/master/frameworks/angular-slickgrid/src/demos/examples/example24.component.ts"
      >
        <span class="mdi mdi-link-variant"></span> code
      </a>
    </span>
  </h2>

  <div class="subtitle">
    Add Cell Menu and Context Menu
    <ul>
      <li>This example demonstrates 2 SlickGrid plugins</li>
      <ol>
        <li>
          Using the <b>Slick.Plugins.CellMenu</b> plugin, often used for an Action Menu(s), 1 or more per grid (<a
            href="https://ghiscoding.gitbook.io/angular-slickgrid/grid-functionalities/cell-menu"
            target="_blank"
            >Wiki docs</a
          >).
        </li>
        <li>
          Using the <b>Slick.Plugins.ContextMenu</b> plugin, shown after a mouse right+click, only 1 per grid. (<a
            href="https://ghiscoding.gitbook.io/angular-slickgrid/grid-functionalities/context-menu"
            target="_blank"
            >Wiki docs</a
          >).
        </li>
      </ol>
      <li>It will also "autoAdjustDrop" (bottom/top) and "autoAlignSide" (left/right) by default but could be turned off</li>
      <li>
        Both plugins have 2 sections, 1st section can have an array of Options (to change value of a field) and 2nd section an array of
        Commands (execute a command)
      </li>
      <li>There are 2 ways to execute a Command/Option</li>
      <ol>
        <li>via onCommand/onOptionSelected (use a switch/case to parse command/option and do something with it)</li>
        <li>via action callback (that can be defined on each command/option)</li>
      </ol>
      <li>
        Use override callback functions to change the properties of show/hide, enable/disable the menu or certain item(s) from the list
      </li>
      <ol>
        <li>These callbacks are: "menuUsabilityOverride", "itemVisibilityOverride", "itemUsabilityOverride"</li>
        <li>... e.g. in the demo, the "Action" Cell Menu is only available when Priority is set to "High" via "menuUsabilityOverride"</li>
        <li>... e.g. in the demo, the Context Menu is only available on the first 20 Tasks via "menuUsabilityOverride"</li>
      </ol>
    </ul>
  </div>

  <div class="row mb-1">
    <div class="col-12">
      <span class="context-menu">
        <strong>Context Menu:</strong>
        <button
          class="btn btn-outline-secondary btn-xs btn-icon"
          (click)="showContextCommandsAndOptions(false)"
          data-test="context-menu-priority-only-button"
        >
          Show Priority Options Only
        </button>
        <button
          class="btn btn-outline-secondary btn-xs btn-icon"
          (click)="showContextCommandsAndOptions(true)"
          data-test="context-menu-commands-and-priority-button"
        >
          Show Commands & Priority Options
        </button>
      </span>

      <span class="cell-menu">
        <strong>Cell Menu:</strong>
        <button
          class="btn btn-outline-secondary btn-xs btn-icon"
          (click)="showCellMenuCommandsAndOptions(false)"
          data-test="cell-menu-commands-and-options-false-button"
        >
          Show Action Commands Only
        </button>
        <button
          class="btn btn-outline-secondary btn-xs btn-icon"
          (click)="showCellMenuCommandsAndOptions(true)"
          data-test="cell-menu-commands-and-options-true-button"
        >
          Show Actions Commands & Completed Options
        </button>
      </span>
    </div>
  </div>
  <div class="row locale">
    <div class="col-12">
      <button class="btn btn-outline-secondary btn-xs btn-icon" (click)="switchLanguage()" data-test="language-button">
        <i class="mdi mdi-translate"></i>
        Switch Language
      </button>
      <b>Locale:</b>
      <span style="font-style: italic" data-test="selected-locale">
        {{ selectedLanguage + '.json' }}
      </span>
    </div>
  </div>

  <div class="col-sm-12">
    <angular-slickgrid
      gridId="grid24"
      [columns]="columnDefinitions"
      [options]="gridOptions"
      [dataset]="dataset"
      (onAngularGridCreated)="angularGridReady($event.detail)"
    >
    </angular-slickgrid>
  </div>
</div>
